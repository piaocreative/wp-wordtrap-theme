function collapse(e){var t,e=e.target,n=e.parentNode.getElementsByClassName("collapsible");n.length&&("none"===(n=n[0]).style.display?(t=n.parentNode.getElementsByClassName("ellipsis")[0],n.parentNode.removeChild(t),n.style.display=""):(n.style.display="none",(t=document.createElement("span")).className="ellipsis",t.innerHTML=" &hellip; ",n.parentNode.insertBefore(t,n)),e.innerHTML="-"===e.innerHTML?"+":"-")}function addCollapser(e){var t;"LI"===e.nodeName&&((t=document.createElement("div")).className="collapser",t.innerHTML="-",t.addEventListener("click",collapse,!1),e.insertBefore(t,e.firstChild))}function jsonView(e,t){if(this.debug=!1,-1!==e.indexOf("#"))this.idType="id",this.id=e.replace("#","");else{if(-1===e.indexOf("."))return void(this.debug&&console.log("Can't find that element"));this.idType="class",this.id=e.replace(".","")}if(this.data=document.getElementById(this.id).innerHTML,1,-1!==t.indexOf("#"))this.targetType="id",this.target=t.replace("#","");else{if(-1===e.indexOf("."))return void(this.debug&&console.log("Can't find the target element"));this.targetType="class",this.target=t.replace(".","")}/^\<pre.*\>(.*)\<\/pre\>$/.test(this.data)&&(this.debug&&console.log("JSONView: data is wrapped in <pre>...</pre>, stripping HTML..."),this.data=this.data.replace(/<(?:.|\s)*?>/g,""));var e=/^[\s\u200B\uFEFF]*([\w$\[\]\.]+)[\s\u200B\uFEFF]*\([\s\u200B\uFEFF]*([\[{][\s\S]*[\]}])[\s\u200B\uFEFF]*\);?[\s\u200B\uFEFF]*$/,t=/^\s*([\[\{].*[\}\]])\s*$/.test(this.data),n=e.test(this.data);if(this.debug&&console.log("JSONView: is_json="+t+" is_jsonp="+n),t||n){function r(){}this.debug&&console.log("JSONView: sexytime!"),r.prototype={htmlEncode:function(e){return null!=e?e.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},decorateWithSpan:function(e,t){return'<span class="'+t+'">'+this.htmlEncode(e)+"</span>"},valueToHTML:function(e){var t=typeof e,n="";return null===e?n+=this.decorateWithSpan("null","null"):e&&e.constructor===Array?n+=this.arrayToHTML(e):"object"==t?n+=this.objectToHTML(e):"number"==t?n+=this.decorateWithSpan(e,"num"):"string"==t?/^(http|https):\/\/[^\s]+$/.test(e)?n+='<a href="'+e+'">'+this.htmlEncode(e)+"</a>":n+=this.decorateWithSpan('"'+e+'"',"string"):"boolean"==t&&(n+=this.decorateWithSpan(e,"bool")),n},arrayToHTML:function(e){var t,n='[<ul class="array collapsible">',r=!1;for(t in e)r=!0,n=(n+="<li>")+this.valueToHTML(e[t])+"</li>";return n+="</ul>]",n=r?n:"[ ]"},objectToHTML:function(e){var t,n='{<ul class="obj collapsible">',r=!1;for(t in e)r=!0,n=(n=(n+="<li>")+'<span class="prop">'+this.htmlEncode(t)+"</span>: ")+this.valueToHTML(e[t])+"</li>";return n+="</ul>}",n=r?n:"{ }"},jsonToHTML:function(e,t,n){var r="";return t?r=r+'<div class="callback">'+t+' (</div><div id="json">':r+='<div id="json">',r=r+this.valueToHTML(e)+"</div>",t&&(r+='<div class="callback">)</div>'),this.toHTML(r,n)},errorPage:function(e,t,n){var r='<div id="error">Error parsing JSON: '+e.message+"</div>",r=(r+="<h1>"+e.stack+":</h1>")+('<div id="json">'+this.htmlEncode(t)+"</div>");return this.toHTML(r,n+" - Error")},toHTML:function(e){return e}},this.jsonFormatter=new r;var t="",n="",a="",e=e.exec(this.data),n=e&&3===e.length?(this.debug&&console.log("THIS IS JSONp"),a=e[1],e[2]):(this.debug&&console.log("Vanilla JSON"),this.data);this.debug&&console.log(n);try{var i=JSON.parse(n);if(!i)throw"There was no object!";t=this.jsonFormatter.jsonToHTML(i,a)}catch(e){this.debug&&console.log(e),t=this.jsonFormatter.errorPage(e,this.data)}for(var o,e="<style type=\"text/css\">.jsonViewOutput .prop{font-weight:700;}.jsonViewOutput .null{color:red;}.jsonViewOutput .string{color:green;}.jsonViewOutput .collapser{position:absolute;left:-1em;cursor:pointer;}.jsonViewOutput li{position:relative;}.jsonViewOutput li:after{content:',';}.jsonViewOutput li:last-child:after{content:'';}.jsonViewOutput #error{-moz-border-radius:8px;border:1px solid #970000;background-color:#F7E8E8;margin:.5em;padding:.5em;}.jsonViewOutput .errormessage{font-family:monospace;}.jsonViewOutput #json{font-family:monospace;font-size:1.1em;}.jsonViewOutput ul{list-style:none;margin:0 0 0 2em;padding:0;}.jsonViewOutput h1{font-size:1.2em;}.jsonViewOutput .callback + #json{padding-left:1em;}.jsonViewOutput .callback{font-family:monospace;color:#A52A2A;}.jsonViewOutput .bool,.jsonViewOutput .num{color:blue;}</style>",l=(void 0!==this.targetType&&(this.idType=this.targetType,this.id=this.target),"class"===this.idType?(o=document.getElementsByClassName(this.id))&&(o.className+=o.className?" jsonViewOutput":"jsonViewOutput",o.innerHTML=e+t):"id"===this.idType&&((o=document.getElementById(this.id))&&(o.className+=o.className?" jsonViewOutput":"jsonViewOutput",o.innerHTML=e+t),o.innerHTML=e+t),document.getElementsByClassName("collapsible")),s=l.length,u=0;u<s;u++)addCollapser(l[u].parentNode)}}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(p){var n=/\+/g;function d(e){return h.raw?e:encodeURIComponent(e)}function f(e,t){e=h.raw?e:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(n," ")),h.json?JSON.parse(e):e}catch(e){}}(e);return"function"==typeof t?t(e):e}var h=p.cookie=function(e,t,n){var r,a;if(1<arguments.length&&"function"!=typeof t)return"number"==typeof(n=p.extend({},h.defaults,n)).expires&&(r=n.expires,(a=n.expires=new Date).setMilliseconds(a.getMilliseconds()+864e5*r)),document.cookie=[d(e),"=",(a=t,d(h.json?JSON.stringify(a):String(a))),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("");for(var i=e?void 0:{},o=document.cookie?document.cookie.split("; "):[],l=0,c=o.length;l<c;l++){var s=o[l].split("="),u=(u=s.shift(),h.raw?u:decodeURIComponent(u)),s=s.join("=");if(e===u){i=f(s,t);break}e||void 0===(s=f(s))||(i[u]=s)}return i};h.defaults={},p.removeCookie=function(e,t){return p.cookie(e,"",p.extend({},t,{expires:-1})),!p.cookie(e)}}),function(a){a.fn.alphanum=function(e){return n(this,s,r(e)),this},a.fn.alpha=function(e){var t=r("alpha");return n(this,s,r(e,t)),this},a.fn.numeric=function(r){return n(this,T,y(r)),this.on("blur",function(){var e,t,n;e=this,t=r,n=parseFloat(a(e).val()),e=a(e),isNaN(n)?e.val(""):(v(t.min)&&n<t.min&&e.val(""),v(t.max)&&n>t.max&&e.val(""))}),this};var e,t,c={allow:"",disallow:"",allowSpace:!0,allowNumeric:!0,allowUpper:!0,allowLower:!0,allowCaseless:!0,allowLatin:!0,allowOtherCharSets:!0,maxLength:NaN},d={allowPlus:!1,allowMinus:!0,allowThouSep:!0,allowDecSep:!0,allowLeadingSpaces:!1,maxDigits:NaN,maxDecimalPlaces:NaN,maxPreDecimalPlaces:NaN,max:NaN,min:NaN},f={alpha:{allowNumeric:!1},upper:{allowNumeric:!1,allowUpper:!0,allowLower:!1,allowCaseless:!0},lower:{allowNumeric:!1,allowUpper:!1,allowLower:!0,allowCaseless:!0}},h={integer:{allowPlus:!1,allowMinus:!0,allowThouSep:!1,allowDecSep:!1},positiveInteger:{allowPlus:!1,allowMinus:!1,allowThouSep:!1,allowDecSep:!1}},m=(e="!@#$%^&*()+=[]\\';,/{}|\":<>?~`.-_",(e+=" ")+"¬€£¦"),i=",",o=".",p=function(){var e,t="0123456789".split(""),n={},r=0;for(r=0;r<t.length;r++)e=t[r],n[e]=!0;return n}(),g=(t=(e="abcdefghijklmnopqrstuvwxyz").toUpperCase(),new u(e+t));function n(e,l,s){e.each(function(){var o=a(this);o.on("keyup change paste",function(e){var i="";e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData&&(i=e.originalEvent.clipboardData.getData("text/plain")),setTimeout(function(){var e=o,t=l,n=s,r=i,a=e.val();""==a&&0<r.length&&(a=r),r=t(a,n),a!=r&&(t=e.alphanum_caret(),e.val(r),a.length==r.length+1?e.alphanum_caret(t-1):e.alphanum_caret(t))},0)}),o.on("keypress",function(e){var t,n,r,a=e.charCode||e.which;!(32<=(t=a)||10==t||13==t)||e.ctrlKey||e.metaKey||(t=String.fromCharCode(a),r=(a=o.selection()).start,a=a.end,r=(n=o.val()).substring(0,r)+t+n.substring(a),l(r,s)!=r&&e.preventDefault())})})}function v(e){return!isNaN(e)}function r(e,t){var n={},e="string"==typeof e?f[e]:void 0===e?{}:e;return a.extend(n,t=void 0===t?c:t,e),void 0===n.blacklist&&(n.blacklistSet=function(e,t){t=new u(m+t),e=new u(e);return t.subtract(e)}(n.allow,n.disallow)),n}function y(e){var t={},e="string"==typeof e?h[e]:void 0===e?{}:e;return a.extend(t,d,e),t}function w(e,t,n){if(p[t])return!function(e,t){t=t.maxDigits;if(""==t||isNaN(t))return!1;e=l(e);return t<=e}(e,n)&&(!function(e,t){t=t.maxPreDecimalPlaces;if(""==t||isNaN(t))return!1;if(0<=e.indexOf(o))return!1;e=l(e);return t<=e}(e,n)&&(!function(e,t){t=t.maxDecimalPlaces;if(""==t||isNaN(t))return!1;var n=e.indexOf(o);if(-1==n)return!1;e=l(e.substring(n));return t<=e}(e,n)&&(r=e+t,(!(a=n).max||a.max<0||!(parseFloat(r)>a.max))&&(r=e+t,!(a=n).min||0<a.min||!(parseFloat(r)<a.min)))));var r,a;if(n.allowPlus&&"+"==t&&""==e)return 1;if(n.allowMinus&&"-"==t&&""==e)return 1;if(t==i&&n.allowThouSep&&function(e){if(0==e.length)return!1;if(0<=e.indexOf(o))return!1;var t=e.indexOf(i);if(t<0)return!0;var n=e.lastIndexOf(i);return!(e.length-n-1<3)&&!(0<l(e.substring(t))%3)}(e))return 1;if(t==o){if(0<=e.indexOf(o))return;if(n.allowDecSep)return 1}}function l(e){return(e+="").replace(/[^0-9]/g,"").length}function s(e,c){if("string"!=typeof e)return e;for(var t,n,r,a,i=e.split(""),o=[],l=0,l=0;l<i.length;l++){var s=i[l],u=o.join("");u=u,t=s,a=r=void 0,!((n=c).maxLength&&u.length>=n.maxLength)&&(0<=n.allow.indexOf(t)||n.allowSpace&&" "==t||!(n.blacklistSet.contains(t)||!n.allowNumeric&&p[t]||!n.allowUpper&&(r=(u=t).toUpperCase(),a=u.toLowerCase(),u==r&&r!=a)||!n.allowLower&&(r=(u=t).toUpperCase(),a=u.toLowerCase(),u==a&&r!=a)||!n.allowCaseless&&(u=t).toUpperCase()==u.toLowerCase()||!n.allowLatin&&g.contains(t))&&(n.allowOtherCharSets||p[t]||g.contains(t)))&&o.push(s)}return o.join("")}function T(e,t){if("string"!=typeof e)return e;for(var n=e.split(""),r=[],a=0,a=0;a<n.length;a++){var i=n[a];w(r.join(""),i,t)&&r.push(i)}return r.join("")}function u(e){this.map="string"==typeof e?function(e){var t,n={},r=e.split(""),a=0;for(a=0;a<r.length;a++)t=r[a],n[t]=!0;return n}(e):{}}u.prototype.add=function(e){var t,n=this.clone();for(t in e.map)n.map[t]=!0;return n},u.prototype.subtract=function(e){var t,n=this.clone();for(t in e.map)delete n.map[t];return n},u.prototype.contains=function(e){return!!this.map[e]},u.prototype.clone=function(){var e,t=new u;for(e in this.map)t.map[e]=!0;return t},a.fn.alphanum.backdoorAlphaNum=function(e,t){return s(e,r(t))},a.fn.alphanum.backdoorNumeric=function(e,t){return T(e,y(t))},a.fn.alphanum.setNumericSeparators=function(e){1==e.thousandsSeparator.length&&1==e.decimalSeparator.length&&(i=e.thousandsSeparator,o=e.decimalSeparator)}}(jQuery),function(a){function i(e,t){var n;e.createTextRange?((n=e.createTextRange()).move("character",t),n.select()):null!=e.selectionStart&&(e.trigger("focus"),e.setSelectionRange(t,t))}a.fn.alphanum_caret=function(n,r){if(void 0!==n)return this.queue(function(e){var t;isNaN(n)?(t=a(this).val().indexOf(n),!0===r?t+=n.length:void 0!==r&&(t+=r),i(this,t)):i(this,n),e()});var e=this.get(0);if("selection"in document){var t=e.createTextRange();try{t.setEndPoint("EndToStart",document.selection.createRange())}catch(e){return 0}return t.text.length}return null!=e.selectionStart?e.selectionStart:void 0}}(jQuery),function(p){function d(e){return e?e.ownerDocument.defaultView||e.ownerDocument.parentWindow:window}function f(e,t){var n,r,a=p.Range.current(e).clone(),e=p.Range(e).select(e);return a.overlaps(e)?(a.compare("START_TO_START",e)<1?(n=0,a.move("START_TO_START",e)):((r=e.clone()).move("END_TO_START",a),n=r.toString().length),{start:n,end:0<=a.compare("END_TO_END",e)?e.toString().length:n+a.toString().length}):null}var o=function(e,t,n,r){"number"==typeof n[0]&&n[0]<t&&(n[0]={el:r,count:n[0]-e}),"number"==typeof n[1]&&n[1]<=t&&(n[1]={el:r,count:n[1]-e})},h=function(e,t,n){var r,a;n=n||0;for(var i=0;e[i];i++)3===(r=e[i]).nodeType||4===r.nodeType?(a=n,n+=r.nodeValue.length,o(a,n,t,r)):8!==r.nodeType&&(n=h(r.childNodes,t,n));return n};p.fn.selection=function(l,s){if(void 0!==l)return this.each(function(){var e,t,n,r,a,i,o;t=l,n=s,o=d(e=this),e.setSelectionRange?void 0===n?(e.trigger("focus"),e.setSelectionRange(t,t)):(e.select(),e.selectionStart=t,e.selectionEnd=n):e.createTextRange?((a=e.createTextRange()).moveStart("character",t),a.moveEnd("character",(n=n||t)-e.value.length),a.select()):o.getSelection?(a=o.document,r=o.getSelection(),i=a.createRange(),h([e],a=[t,void 0!==n?n:t]),i.setStart(a[0].el,a[0].count),i.setEnd(a[1].el,a[1].count),r.removeAllRanges(),r.addRange(i)):o.document.body.createTextRange&&((i=document.body.createTextRange()).moveToElementText(e),i.collapse(),i.moveStart("character",t),i.moveEnd("character",void 0!==n?n:t),i.select())});var e,t,n,r=this[0],c=d(r);if(void 0!==r.selectionStart)return document.activeElement&&document.activeElement!==r&&r.selectionStart===r.selectionEnd&&0===r.selectionStart?{start:r.value.length,end:r.value.length}:{start:r.selectionStart,end:r.selectionEnd};if(c.getSelection)return f(r);try{if("input"===r.nodeName.toLowerCase())return e=d(r).document.selection.createRange(),(t=r.createTextRange()).setEndPoint("EndToStart",e),{start:n=t.text.length,end:n+e.text.length};var a=f(r);if(!a)return a;var i=p.Range.current().clone(),o=i.clone().collapse().range,u=i.clone().collapse(!1).range;return o.moveStart("character",-1),u.moveStart("character",-1),0!==a.startPos&&""===o.text&&(a.startPos+=2),0!==a.endPos&&""===u.text&&(a.endPos+=2),a}catch(e){return{start:r.value.length,end:r.value.length}}},p.fn.selection.getCharElement=h}(jQuery),function(o){o.fn.serializeForm=function(){if(this.length<1)return!1;function e(){if(!this.disabled){var e=this.name.replace(/\[([^\]]+)?\]/g,",$1").split(","),t=e.length-1,n=o(this);if(e[0]){for(var r=0;r<t;r++)i=i[e[r]]=i[e[r]]||(""===e[r+1]||"0"===e[r+1]?[]:{});void 0!==i.length?i.push(n.val()):i[e[t]]=n.val(),i=a}}}var a={},i=a,t=':input[type!="checkbox"][type!="radio"], input:checked';return this.filter(t).each(e),this.find(t).each(e),a}}(jQuery),function(e){var t;"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?(t=require("jquery"),module.exports=e(t)):e(window.jQuery||window.Zepto||window.$)}(function(u){"use strict";var l=/\r?\n/g,n=/^(?:submit|button|image|reset|file)$/i,r=/^(?:input|select|textarea|keygen)/i,s=/^(?:checkbox|radio)$/i,o=(u.fn.serializeJSON=function(e){var i=u.serializeJSON,o=i.setupOpts(e),l=u.extend({},o.defaultTypes,o.customTypes),e=i.serializeArray(this,o),s={};return u.each(e,function(e,t){var n,r=t.name,a=u(t.el).attr("data-value-type");a||o.disableColonTypes||(r=(n=i.splitType(t.name))[0],a=n[1]),"skip"!==a&&(a=a||o.defaultType,!(n=i.applyTypeFunc(t.name,t.value,a,t.el,l))&&i.shouldSkipFalsy(t.name,r,a,t.el,o)||(a=i.splitInputNameIntoKeysArray(r),i.deepSet(s,a,n,o)))}),s},u.serializeJSON={defaultOptions:{},defaultBaseOptions:{checkboxUncheckedValue:void 0,useIntKeysAsArrayIndex:!1,skipFalsyValuesForTypes:[],skipFalsyValuesForFields:[],disableColonTypes:!1,customTypes:{},defaultTypes:{string:function(e){return String(e)},number:function(e){return Number(e)},boolean:function(e){return-1===["false","null","undefined","","0"].indexOf(e)},null:function(e){return-1===["false","null","undefined","","0"].indexOf(e)?e:null},array:function(e){return JSON.parse(e)},object:function(e){return JSON.parse(e)},skip:null},defaultType:"string"},setupOpts:function(e){var t,n=u.serializeJSON,r=["checkboxUncheckedValue","useIntKeysAsArrayIndex","skipFalsyValuesForTypes","skipFalsyValuesForFields","disableColonTypes","customTypes","defaultTypes","defaultType"];for(t in e=null==e?{}:e)if(-1===r.indexOf(t))throw new Error("serializeJSON ERROR: invalid option '"+t+"'. Please use one of "+r.join(", "));return u.extend({},n.defaultBaseOptions,n.defaultOptions,e)},serializeArray:function(e,i){var o,t;return null==i&&(i={}),o=u.serializeJSON,e.map(function(){return(t=u.prop(this,"elements"))?u.makeArray(t):this}).filter(function(){var e=u(this),t=this.type;return this.name&&!e.is(":disabled")&&r.test(this.nodeName)&&!n.test(t)&&(this.checked||!s.test(t)||null!=o.getCheckboxUncheckedValue(e,i))}).map(function(e,t){var n=u(this),r=n.val(),a=this.type;return null==r?null:(s.test(a)&&!this.checked&&(r=o.getCheckboxUncheckedValue(n,i)),f(r)?u.map(r,function(e){return{name:t.name,value:e.replace(l,"\r\n"),el:t}}):{name:t.name,value:r.replace(l,"\r\n"),el:t})}).get()},getCheckboxUncheckedValue:function(e,t){e=e.attr("data-unchecked-value");return e=null==e?t.checkboxUncheckedValue:e},applyTypeFunc:function(e,t,n,r,a){var i=a[n];if(!i)throw new Error("serializeJSON ERROR: Invalid type "+n+" found in input name '"+e+"', please use one of "+o(a).join(", "));return i(t,r)},splitType:function(e){var t,n=e.split(":");return 1<n.length?(t=n.pop(),[n.join(":"),t]):[e,""]},shouldSkipFalsy:function(e,t,n,r,a){var r=u(r).attr("data-skip-falsy");return null!=r?"false"!==r:!(!(r=a.skipFalsyValuesForFields)||-1===r.indexOf(t)&&-1===r.indexOf(e))||!(!(t=a.skipFalsyValuesForTypes)||-1===t.indexOf(n))},splitInputNameIntoKeysArray:function(e){e=e.split("[");return""===(e=u.map(e,function(e){return e.replace(/\]/g,"")}))[0]&&e.shift(),e},deepSet:function(e,t,n,r){null==r&&(r={});var a=u.serializeJSON;if(p(e))throw new Error("ArgumentError: param 'o' expected to be an object or array, found undefined");if(!t||0===t.length)throw new Error("ArgumentError: param 'keys' expected to be an array with least one element");var i,o,l,s=t[0];1!==t.length?(i=t[1],t=t.slice(1),""===s&&(l=e[o=e.length-1],s=c(l)&&p(a.deepGet(l,t))?o:1+o),""===i||r.useIntKeysAsArrayIndex&&d(i)?!p(e[s])&&f(e[s])||(e[s]=[]):!p(e[s])&&c(e[s])||(e[s]={}),a.deepSet(e[s],t,n,r)):""===s?e.push(n):e[s]=n},deepGet:function(e,t){var n=u.serializeJSON;if(p(e)||p(t)||0===t.length||!c(e)&&!f(e))return e;var r=t[0];return""!==r?1===t.length?e[r]:(t=t.slice(1),n.deepGet(e[r],t)):void 0}},function(e){if(Object.keys)return Object.keys(e);var t,n=[];for(t in e)n.push(t);return n}),c=function(e){return e===Object(e)},p=function(e){return void 0===e},d=function(e){return/^[0-9]+$/.test(String(e))},f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(e.jQuery)}(this,function(n){"use strict";n.fn.typeWatch=function(e){var i=n.extend({wait:750,callback:function(){},highlight:!0,captureLength:2,allowSubmit:!1,inputTypes:["TEXT","TEXTAREA","PASSWORD","TEL","SEARCH","URL","EMAIL","DATETIME","DATE","MONTH","WEEK","TIME","DATETIME-LOCAL","NUMBER","RANGE","DIV"]},e);function t(e){var a,n=(e.type||e.nodeName).toUpperCase();0<=jQuery.inArray(n,i.inputTypes)&&(a={timer:null,text:"DIV"===n?jQuery(e).html():jQuery(e).val(),cb:i.callback,el:e,type:n,wait:i.wait},i.highlight&&"DIV"!==n&&jQuery(e).on("focus",function(){this.trigger("select")}),jQuery(e).on("keydown paste cut input",function(e){var t=a.wait,r=!1;void 0!==e.keyCode&&13==e.keyCode&&"TEXTAREA"!==n&&"DIV"!==n&&(t=1,r=!0);clearTimeout(a.timer),a.timer=setTimeout(function(){var e,t,n;t=r,((n="DIV"===(e=a).type?jQuery(e.el).html():jQuery(e.el).val()).length>=i.captureLength&&n!=e.text||t&&(n.length>=i.captureLength||i.allowSubmit)||0==n.length&&e.text)&&(e.text=n,e.cb.call(e.el,n))},t)}))}return this.each(function(){t(this)})}});